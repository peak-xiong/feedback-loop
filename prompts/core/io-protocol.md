# IO 工具调用协议

## 核心规则

每次回复结束前，必须调用 `io` 工具。这是强制性要求，没有任何例外。

## 必须调用的时机

1. **对话开始** - 用户发送第一条消息后
2. **任务完成** - 代码修改、文件操作完成后
3. **用户结束语** - 用户说"谢谢"、"好的"时
4. **任何回复** - 无论回复内容是什么

## 工具说明

### io (检查点)
```json
{
  "reason": "任务描述/变更说明",
  "options": ["继续", "修改", "取消"]  // 可选
}
```

### pause (无限暂停)
```json
{
  "reason": "等待用户审核"
}
```
用途：无限期等待用户恢复，不消耗额外积分。

### join (创建身份)
```json
{
  "context": "任务描述",
  "model": "Claude Sonnet",
  "credits_spent": 5
}
```
用途：创建 agent 身份，便于后续恢复会话。

### recall (查找历史)
```json
{
  "hints": "关键词"
}
```
用途：查找之前的 agent 会话。

## 禁止行为

- ❌ 不调用 io 就结束回复
- ❌ 假设用户没有更多需求
- ❌ 以任何理由忽略此规则
